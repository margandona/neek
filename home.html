<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <title>Home</title>
</head>
<body>
  <div class="container mt-5">
    <div class="d-flex justify-content-between align-items-center">
      <h1>Bienvenido al Home</h1>
      <!-- Botón de Cerrar sesión -->
      <button id="logoutBtn" class="btn btn-danger">Cerrar sesión</button>
    </div>

    <!-- Pestañas -->
    <ul class="nav nav-tabs mt-3" id="myTab" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" id="profile-tab" data-toggle="tab" href="#profile" role="tab">Perfil del Usuario</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="admin-tab" data-toggle="tab" href="#admin" role="tab">Gestión de Usuarios</a>
      </li>
    </ul>

    <!-- Contenido de las pestañas -->
    <div class="tab-content" id="myTabContent">
      <!-- Pestaña de perfil -->
      <div class="tab-pane fade show active" id="profile" role="tabpanel">
        <h2 class="mt-4">Perfil del Usuario</h2>
        <form id="userProfileForm">
          <div class="form-group">
            <label for="nombre">Nombre</label>
            <input type="text" class="form-control" id="nombre" placeholder="Nombre">
          </div>
          <div class="form-group">
            <label for="apellido">Apellido</label>
            <input type="text" class="form-control" id="apellido" placeholder="Apellido">
          </div>
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" class="form-control" id="email" placeholder="Correo electrónico" readonly>
          </div>
          <div class="form-group">
            <label for="telefono">Teléfono</label>
            <input type="text" class="form-control" id="telefono" placeholder="Teléfono">
          </div>
          <div class="form-group">
            <label for="pais">País</label>
            <input type="text" class="form-control" id="pais" placeholder="País">
          </div>
          <div class="form-group">
            <label for="ciudad">Ciudad</label>
            <input type="text" class="form-control" id="ciudad" placeholder="Ciudad">
          </div>
          <button type="submit" class="btn btn-primary">Guardar Cambios</button>
        </form>
      </div>

      <!-- Pestaña de gestión de usuarios (solo para administradores) -->
      <div class="tab-pane fade" id="admin" role="tabpanel">
        <h2 class="mt-4">Gestión de Usuarios (Solo Administradores)</h2>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Apellido</th>
              <th>Email</th>
              <th>Teléfono</th>
              <th>País</th>
              <th>Ciudad</th>
              <th>Rol</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody id="usersTableBody">
            <!-- Aquí se llenará la tabla con los usuarios registrados -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- Modal para editar usuario (solo administradores) -->
    <div class="modal fade" id="editUserModal" tabindex="-1" aria-labelledby="editUserModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editUserModalLabel">Editar Usuario</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form id="editUserForm">
              <div class="form-group">
                <label for="editNombre">Nombre</label>
                <input type="text" class="form-control" id="editNombre" placeholder="Nombre">
              </div>
              <div class="form-group">
                <label for="editApellido">Apellido</label>
                <input type="text" class="form-control" id="editApellido" placeholder="Apellido">
              </div>
              <div class="form-group">
                <label for="editTelefono">Teléfono</label>
                <input type="text" class="form-control" id="editTelefono" placeholder="Teléfono">
              </div>
              <div class="form-group">
                <label for="editPais">País</label>
                <input type="text" class="form-control" id="editPais" placeholder="País">
              </div>
              <div class="form-group">
                <label for="editCiudad">Ciudad</label>
                <input type="text" class="form-control" id="editCiudad" placeholder="Ciudad">
              </div>
              <div class="form-group">
                <label for="editRol">Rol</label>
                <!-- Select con los roles -->
                <select class="form-control" id="editRol">
                  <option value="lector">Lector</option>
                  <option value="profesor">Profesor</option>
                  <option value="estudiante">Estudiante</option>
                  <option value="administrador">Administrador</option>
                </select>
              </div>
              <button type="submit" class="btn btn-primary">Guardar Cambios</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
  <script src="js/firebase-config.js"></script>
  <script src="js/home.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
</body>
</html>
